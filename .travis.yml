language: java
jdk: openjdk7
branches:
  only:
  - master
cache:
  directories:
  - "$HOME/.m2"
  - "$HOME/.sonar/cache"  
addons:
  sonarcloud:
    organization: "mpobjects-github"
    token:
      secure: "zIVS6mxFiN4FkFP6QmjbPcq/38DBP6WLVC5Q+UyeKx2Ffdr7E/2hHszt4hbpCjEPWIp/NfR6e6zlvM4MrRtnzSV2zU5qOlNvM9pBY5mNzDnJ+pBptRrWFLxxJGQPO5vIhFxTiqthLSE+yvj38FsLN+sXR1Nu/DNZxPKV2rQ7GnaWy0GRCSmvsf9DEKF4U/blWsfpuEFsTznK2aL2/+OpfgPYM0ZWjpKWeQKHuWymkAmD4nL75bjIEflK1FGME2AQG72h+Ie50YV7obF8z9KiJUOX28LLAEBdl/6ex626k9z077epiZCqS8/f0st6O9m9J/PO+u3zhU0v6HKdAJUNxshi1bnqthyNetnDucP6oyd+EMpUiF2HzZJYy2ElwNPody4RlABZqSOBUzvnEt/srtt9Ea8x9LL5SzR/JDzeg2wxSEGNKxn8wY0rfmSwpdwz7YMJ2VaM1QoRawM/haHP2akm3ngDYI8RMZrJ9AasMj5seaegB8hSIsyVThayqFdYmUPvDFx9TGy24aEBn4v8J69MvCy36og0rN8wmmisZWxzKpHNImRqhdsm6jfYbyG46gFiTiG8D6eqILJ2A/38OpCAP2+eT6VDjcFNHZ/TgO1yYd0b8yZFWdIDgL5g9olz52MzDp/RUOPmiKUKJ72+PQ66SWt92x/rzl2z+AIQ5bg="
install: mvn install -DskipTests=true -Dmaven.javadoc.skip=true -B -V -Dgpg.skip
script:
- mvn test -B 
- jdk_switcher use openjdk8
- mvn sonar:sonar -B
after_success:
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $GPG_DIR/pubring.gpg.enc -out $GPG_DIR/pubring.gpg -d
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $GPG_DIR/secring.gpg.enc -out $GPG_DIR/secring.gpg -d
- "$GPG_DIR/publish.sh"
env:
  global:
  - GPG_DIR="`pwd`/deploy"
  - secure: lRZ1E06LKIagXEBeCZ9bpojNgk5CpQO5IAbv/jOZVaEG3T84yM7b1N+C+CsmXP16KorTCNg4arazvs/pEOncyCMuJ0ShGSHzrR0CRFD5OJHX/b533CkX5loBbh8Dfjyzkx62oY32oWAysClCHlynYS/vytj+jG6flgWQiZVxcYLz+eAwabhVHfBZwZ8leCXItwVKGSMW6cRGTNBiVuYpe56MvrKPfUcMwlxJXVN6pOive7s6tR4ejnEWXTQyzYd5aLlZGLvsHy+sh6Y7Z2LakpIiYQ93H0svZ+7c9jvHUwoN5IqSERax1l/BP/nEMQlL3+fR9qV1uXxnw/cMdh1TMZjEs0r50yjwptvK3Hq8f5im4IEXytvNjU8qRuNAdPPyYHZXGgV43OQbPuZbrrhVBJqSbXMto9cIZ/GPZLRJm3zgoRVL+EptP/SL/AEVbIBVVQV3lOIoMtUYbKMmHeaAJWMG7y0AJCATRKYszZ0/9ztI8dAWqKHGX4ugsJ3U6XAgRdS9V57XzsULiDL2PMVtsF70UQkH3JKYOBzLKkW+fpVLQvruWxBVBMa04nsueg8H2sgWfKfosiCmR1CLwejWSi+YwLq6DUiZh6rjid7oQzD9WVXZCHRvM8YC1s3URAefi9KWJ2LOGZqyma2ybW3wG2Yi6Bn9IZ3emsNIy1t+gYc=
  - secure: vh8ftgjGfDBQNzAABi2n3C1j1I0LnhNAc2Y8pQj1lXbS3W9t6QvpYZgovKzLnFg9CsQZcqHlW/B0X4IYvDyDG1qX93018WqOn3hnh/S2wHfNGRbLyIDNtBX/3CUUXD6Y0jzovXHzfBneg9X726/INxztGrzs+3s7CISCKLr6ahmTQ138+M/JBYbAmTZn6t+04KwvZ2rhWauSsYS9BIu7zTehKIgUktfYmtiKxco2OnQVJWCzzKOUOXMj/oDsKGGLK5gQYxrQiNwox9lhOpExYgXUnKXuccrW6y0ghOmrFpRHtsCBppSyLixtsZIkACVgFLaW1fjBaQBfH34SLNryetO7VgSZ/y7fLjzr8pdc+eu/BDcwW9TI9EVmmOng9ZOhkndr2RDLon3NJBo66DEt8/torbhbZWP+Twd80VFKUFMY3jZbGKoxkFypgCwiFooURe8S7bfCzRUJb6hFz8CIAiV7YC8Fze/Mn+zmhOJ+YNdEcyOzl2Vjbn5RMX+8ChpCVYy+wSOWU8R/6hfelgThvMKx1y7nggQuGjz7PSBBOxU5vePzger+/KgLAHeJbW7Oq57hWz6rejbOFFgIe0LcgCTK2lpQ+wT09mY5m2uigc02grUD3ezpmOQhbOwTViZoo8R1bRUIRK/3iEUMWb5dMDWj0BSzA9SJO5qR6vZmG1A=
  - secure: 3plP4lHgIUZ+AQ/Tctwh/KYmnJvFGdvFpAWwmyocTDQHvzRwuQBtMDtTS9f/CorL/zDW6QPWsFCRytKcotzQokdkxA+55q/1Ykhk/CCbZpH8Lwp4hXEy01Ts/3E+0VQGy+LpgIo58+Ujfxb0H9rVe9ZVJRWMk6udUIkdF9cEoGWoHZnr0vxi5dgAcPrnXfGX6Yz8ZnKyRgzG7i6Tl5BMOWNbBbilwoOaKGgpdKFAKiIVG9AQoz86zKlInS/lT6ZGmQo+yob2JsqQ5j7XQM2Ub7R+qyZ2/yPLa94tnoOiWz/msFCKHNN++4cF3S9qz8DvBhgIErDhO1F1cG61qyEq7elbyv+qe58KxXOPhWtZPrf0wtWkGvZBbxc5a4EIveaUoUNxFyDfzmd1VlotqD8uemIYRDR0ds0I+S9la3P3bw7rA0SQXB+cy23r/Ye25fGmGnsHypIJLdvBKdaxp5cw6vNDrsl9ruwuhho5fPFSAR2fNqXumuV9OVDyIghhjTQS0Jh9wvC1X2nvyeWYJVLOxQtyBIXruXuTG7wgng2BjDiiPsTUmmwpjYvVZ0M0jW5lcq1xMoRl6IN9xl3q27BJ4sv8UtvDCqkdwLJJYV7Ap4Hs2ya1vI+w1kSssLAgPy2F+WcqNFPUjd4oRT/n3/kYYjeHRGW7FhXLUyT5MtHhDH0=
  - secure: 59IuzemDkXal3+ESKT//L03Bz3B4W6mFs93qlL1X9W4n8T+KVmLBhHyd9ntiwbkvq8s1izS5eCnZXGDyJJ63CPqUm7s3wWK4fkJC94H4LRylpyaj6gA2OXV0o07Q3y+ZSFzCGlOh/FYeH0gUFokV9bMHZXAEnwtC/QyQ9nWgb9ra+NyP+VhxrKr/gOhwJQX2g0rBnD+bj3me+yBmub9bsoWhZ8XoHh2tidQ6ETCFrtykgXr9pODjSa/ydhgx5EWTm2N1C+bfwv/Dy1lBtBnQ6FPXItwx7iT5OCz7DOIquzzv3Zyt/QqLH/bDU7O8Qe2aqLB46ouxX3BILH6Cpvp6YY27qURLOof/KxXz2JSjDLJFhLciIbdAM9QRKC9fEJSCqyojKT2slks4YLFnBKwsHfNtwQeTxUJkKUwqjDCq0nz4Q/cAB86/1Oa4S4XTrM8FNHc6EVMyyHaOfhkFsroP/SCwLt05+T3eLgnYmyRxj1zU0b9lF2tf5EccLrZSjXXuFVTmWQzqDQ2Pr2KMOHdriHuZrCBOF9SA29pn24upi4hgkiTovZPwRVNeoYYF4OlPmaLuXwqwBQr7ZnYojET6pu34zRFUWS8Hgc0Wl6pjNo+PgEyqNXNcZ1fb8b8ouwgW3fhIY6ea05kVL4UHpnpBFUHx/Ys+xSJr9UVPbaSLl7I=
  - secure: CIxzEW3io+XTxvyt09Veu1/e9xd7+vwjZ0PrgXH+a2A98s1okwnqXa/mxzqHsnUXBrs4D8+h9n9rU+Vfc3fGBu+EZRn3XkVjIdlsK5JJNk94mVmoKHCRclfTRDRtzenh4QBnTbWU8B3QRyMoIORExaf+WJiQr0qK4/qBZV5Xt1kSgs6/Ultj/kG7UN/P9Ho9qkLz2RckG9bf5qBQbj0G2cbdzdvQZgtRwgcuJpedlxj3Vahv+vNzk5ntMiCuscudM7H2yzTN3So6XQjq3UkP3krQsmDtXfBYirWVssTjEm6nNPnmsHv2G5wGKogLG3Fp/dQYBpAgm5ZCSaMtLnEAmKQjyUG/n+3b0P/TcqIU91BDP5APLQY7F+qSt2xf6yFVADD00w1w84nDsSr8ElANmBRX99RqwtTm9Tj7wH838IgmCPs3EyKJIvX0OWrcW9RabAQYbWfqXETp99OZhnnJ40hInuvdAOyiFYDh4t8Ozrhe6Das78gMIl3RN99XZlLZGw6+7rjt2xLSkZDoYwk7HIZexpPSpCLEzevI6Ez9Xie/Jn+fLvN5AZ1QLoJcMvNa4gnHgLRPLRrcwE/dlTzozOlMjZZe8cal7zsogv21t3Rv9X80PByM1fJLlimcC8wnV2zyqLU4JthPScxMXCdTXYjRctBGZVEjKh0kZDjNEuY=
